/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
define(function(){"use strict";var u="constructor",p="prototype",h="function",_="_dynInstFuncs",d="_isDynProxy",g="_dynClass",I="_dynCls$",w="_dynInstChk",O=w,P="_dfOpts",t="_unknown_",r="__proto__",m="useBaseInst",C="setInstFuncs",o=Object,F=o.getPrototypeOf,k=0;function b(n,r){return n&&o[p].hasOwnProperty.call(n,r)}function B(n){return n&&(n===o[p]||n===Array[p])}function D(n){return B(n)||n===Function[p]}function $(n){if(n){if(F)return F(n);if(n=n[r]||n[p]||(n[u]?n[u][p]:null))return n}return null}function j(n,r){var t=[],u=o.getOwnPropertyNames;if(u)t=u(n);else for(var i in n)"string"==typeof i&&b(n,i)&&t.push(i);if(t&&0<t.length)for(var e=0;e<t.length;e++)r(t[e])}function x(n,r,t){return r!==u&&typeof n[r]===h&&(t||b(n,r))}function A(n){throw new TypeError("DynamicProto: "+n)}function E(n,r){for(var t=n.length-1;0<=t;t--)if(n[t]===r)return 1}function M(n,r){return b(n,p)?n.name||r||t:((n||{})[u]||{}).name||r||t}function N(n,u,r,t){b(n,p)||A("theClass is an invalid class definition.");var i=n[p];!function(n){if(F)for(var r=[],t=$(u);t&&!D(t)&&!E(r,t);){if(t===n)return 1;r.push(t),t=$(t)}}(i)&&A("["+M(n)+"] is not in class hierarchy of ["+M(u)+"]");var e=null;b(i,g)?e=i[g]:(e=I+M(n,"_")+"$"+k,k++,i[g]=e);var o=N[P],f=!!o[m];f&&t&&t[m]!==undefined&&(f=!!t[m]);var s,a,c,l,v,y,n=(a={},j(s=u,function(n){!a[n]&&x(s,n,!1)&&(a[n]=s[n])}),a);r(u,function(n,r,t,e){function u(n,r,t){var u,i=r[t];return i[d]&&e&&!1!==(u=n[_]||{})[O]&&(i=(u[r[g]]||{})[t]||i),function(){return i.apply(n,arguments)}}var i={};j(t,function(n){i[n]=u(r,t,n)});for(var o=$(n),f=[];o&&!D(o)&&!E(f,o);)j(o,function(n){!i[n]&&x(o,n,!F)&&(i[n]=u(r,o,n))}),f.push(o),o=$(o);return i}(i,u,n,f)),o=!!F&&!!o[C],c=i,e=e,l=u,v=n,t=!1!==(o=o&&t?!!t[C]:o),B(c)||(o=l[_]=l[_]||{},y=o[e]=o[e]||{},!1!==o[O]&&(o[O]=!!t),j(l,function(n){var t,u,i;x(l,n,!1)&&l[n]!==v[n]&&(y[n]=l[n],delete l[n],b(c,n)&&(!c[n]||c[n][d])||(c[n]=(t=c,u=n,(i=function(){var n,r;return(function(n,r,t,u){var i=null;if(n&&b(t,g)){var e=n[_]||{};if((i=(e[t[g]]||{})[r])||A("Missing ["+r+"] "+h),!i[w]&&!1!==e[O]){for(var o=!b(n,r),f=$(n),s=[];o&&f&&!D(f)&&!E(s,f);){var a=f[r];if(a){o=a===u;break}s.push(f),f=$(f)}try{o&&(n[r]=i),i[w]=1}catch(c){e[O]=!1}}}return i}(this,u,t,i)||(typeof(r=(r=t[n=u])===i?$(t)[n]:r)!==h&&A("["+n+"] is not a "+h),r)).apply(this,arguments)})[d]=1,i)))}))}return N[P]={setInstFuncs:!0,useBaseInst:!0},N});
