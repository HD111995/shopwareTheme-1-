/*!
 * Application Insights JavaScript SDK - Web Analytics, 2.6.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,t=function(e){"use strict";var r="function",x="object",s="undefined",i="prototype",a="hasOwnProperty",n=Object,o=n[i],c=n.create,t=n.defineProperty,l=o[a];function u(){return typeof globalThis!==s&&globalThis?globalThis:typeof self!==s&&self?self:typeof window!==s&&window?window:typeof global!==s&&global?global:null}function g(e){throw new TypeError(e)}(u()||{}).Symbol,(u()||{}).Reflect;var f=n.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])o[a].call(t,i)&&(e[i]=t[i]);return e},p=function(e,t){return(p=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[a](n)&&(e[n]=t[n])})(e,t)};function d(e,t){function n(){this.constructor=e}typeof t!==r&&null!==t&&g("Class extends value "+t+" is not a constructor or null"),p(e,t),e[i]=null===t?function(e){if(c)return c(e);if(null==e)return{};var t=typeof e;function n(){}return t!==x&&t!==r&&g("Object prototype may only be an Object:"+e),n[i]=e,new n}(t):(n[i]=t[i],new n)}var S,m="constructor",h="prototype",v="function",y="_dynInstFuncs",T="_isDynProxy",w="_dynClass",I="_dynCls$",C="_dynInstChk",k=C,P="_dfOpts",b="_unknown_",N="__proto__",E="useBaseInst",A="setInstFuncs",L=Object,M=L.getPrototypeOf,R=0;function V(e,t){return e&&L[h].hasOwnProperty.call(e,t)}function _(e){return e&&(e===L[h]||e===Array[h])}function D(e){return _(e)||e===Function[h]}function F(e){if(e){if(M)return M(e);if(e=e[N]||e[h]||(e[m]?e[m][h]:null))return e}return null}function O(e,t){var n=[],r=L.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&V(e,i)&&n.push(i);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function B(e,t,n){return t!==m&&typeof e[t]===v&&(n||V(e,t))}function U(e){throw new TypeError("DynamicProto: "+e)}function z(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function W(e,t){return V(e,h)?e.name||t||b:((e||{})[m]||{}).name||t||b}function j(e,r,t,n){V(e,h)||U("theClass is an invalid class definition.");var i=e[h];!function(e){if(M)for(var t=[],n=F(r);n&&!D(n)&&!z(t,n);){if(n===e)return 1;t.push(n),n=F(n)}}(i)&&U("["+W(e)+"] is not in class hierarchy of ["+W(r)+"]");var a=null;V(i,w)?a=i[w]:(a=I+W(e,"_")+"$"+R,R++,i[w]=a);var o=j[P],s=!!o[E];s&&n&&n[E]!==undefined&&(s=!!n[E]);var c,l,u,g,f,p,e=(l={},O(c=r,function(e){!l[e]&&B(c,e,!1)&&(l[e]=c[e])}),l);t(r,function(e,t,n,a){function r(e,t,n){var r,i=t[n];return i[T]&&a&&!1!==(r=e[y]||{})[k]&&(i=(r[t[w]]||{})[n]||i),function(){return i.apply(e,arguments)}}var i={};O(n,function(e){i[e]=r(t,n,e)});for(var o=F(e),s=[];o&&!D(o)&&!z(s,o);)O(o,function(e){!i[e]&&B(o,e,!M)&&(i[e]=r(t,o,e))}),s.push(o),o=F(o);return i}(i,r,e,s)),o=!!M&&!!o[A],u=i,a=a,g=r,f=e,n=!1!==(o=o&&n?!!n[A]:o),_(u)||(o=g[y]=g[y]||{},p=o[a]=o[a]||{},!1!==o[k]&&(o[k]=!!n),O(g,function(e){var n,r,i;B(g,e,!1)&&g[e]!==f[e]&&(p[e]=g[e],delete g[e],V(u,e)&&(!u[e]||u[e][T])||(u[e]=(n=u,r=e,(i=function(){var e,t;return(function(e,t,n,r){var i=null;if(e&&V(n,w)){var a=e[y]||{};if((i=(a[n[w]]||{})[t])||U("Missing ["+t+"] "+v),!i[C]&&!1!==a[k]){for(var o=!V(e,t),s=F(e),c=[];o&&s&&!D(s)&&!z(c,s);){var l=s[t];if(l){o=l===r;break}c.push(s),s=F(s)}try{o&&(e[t]=i),i[C]=1}catch(u){a[k]=!1}}}return i}(this,r,n,i)||(typeof(t=(t=n[e=r])===i?F(n)[e]:t)!==v&&U("["+e+"] is not a "+v),t)).apply(this,arguments)})[T]=1,i)))}))}j[P]={setInstFuncs:!0,useBaseInst:!0},($t=S=S||{})[$t.CRITICAL=1]="CRITICAL",$t[$t.WARNING=2]="WARNING";var G={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},K=t;function q(e){return o.toString.call(e)}function J(e){return e===undefined||typeof e===s}function H(e){return null===e||J(e)}function X(e){return!H(e)}function $(e){return typeof e===x}function Z(e){return typeof e===r}function Q(e,t){if(e)for(var n in e)l.call(e,n)&&t.call(e,n,e[n])}function Y(e,t){return!(!e||!t||!~e.indexOf(t))}function ee(e){return"[object Array]"===q(e)}function te(e){return"[object Error]"===q(e)}function ne(e){return"string"==typeof e}function re(e,t,n){for(var r=e.length,i=0;i<r&&!(i in e&&-1===t.call(n||e,e[i],i,e));i++);}function ie(e,t,n){for(var r=e.length,i=n||e,a=Array(r),o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e));return a}function ae(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function oe(){var e=Date;return e.now?e.now():(new e).getTime()}function se(e){return te(e)?e.name:""}function ce(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(e[t]=a=n)),a}function le(e){return!!e}var ue="window",ge="document",fe="navigator",pe="history",de="location",me="JSON",he="crypto",ve="msCrypto",ye="msie",Te="trident/",we=null,Ie=null,Ce=!1;function xe(e){var t=u();return t&&t[e]?t[e]:e===ue&&Se()?window:null}function Se(){return typeof window===x&&window}function ke(){return Se()?window:xe(ue)}function Pe(){return typeof document===x&&document?document:xe(ge)}function be(){return typeof navigator===x&&navigator?navigator:xe(fe)}function Ne(e){return e&&Ce&&(e=xe("__mockLocation"))?e:typeof location===x&&location?location:xe(de)}function Ee(){return xe("performance")}function Ae(){return typeof JSON===x&&JSON||null!==xe(me)}function Le(){return Ae()?JSON||xe(me):null}function Me(){var e=be();return!e||e.userAgent===Ie&&null!==we||(e=((Ie=e.userAgent)||"").toLowerCase(),we=Y(e,ye)||Y(e,Te)),we}function Re(e){var t=Object[i].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Ae()&&(n=Le().stringify(e)),t+n}function Ve(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var _e=(De.dataType="MessageData",De);function De(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",Ae()&&(e=Le().stringify(r)),e=(t?" message:"+Ve(t):"")+(r?" props:"+Ve(e):""),this.message+=e}var Fe=function sr(n){this.identifier="DiagnosticLogger",this.queue=[];var i=0,o={};j(sr,this,function(a){function e(e,t){return H(e=n[e])?t:e}H(n)&&(n={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,r,i){if(n=new _e(t,n,i=void 0!==i&&i,r),a.enableDebugExceptions())throw n;J(n.message)||(r=a.consoleLoggingLevel(),i?(i=+n.messageId,!o[i]&&r>=S.WARNING&&(a.warnToConsole(n.message),o[i]=!0)):r>=S.WARNING&&a.warnToConsole(n.message),a.logInternalMessage(e,n))},a.warnToConsole=function(e){var t,n=typeof console!==s?console:xe("console");n&&(t="log",Z(n[t=n.warn?"warn":t])&&n[t](e))},a.resetInternalMessageCount=function(){i=0,o={}},a.logInternalMessage=function(e,t){var n,r;i>=a.maxInternalMessageLimit()||(n=!0,r="AITR_"+t.messageId,o[r]?n=!1:o[r]=!0,n&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),i++),i===a.maxInternalMessageLimit()&&(t=new _e(G.MessageLimitPerPVExceeded,e="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(t),a.warnToConsole(e))))}})},Oe="ctx",Be=(Ue.ParentContextKey="parent",Ue.ChildrenContextKey="childEvts",Ue);function Ue(e,i,t){var r,a=this,o=!1;a.start=oe(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},Z(i)&&(o=function(e){if(K)try{var t={enumerable:!0,configurable:!0,get:function(){return!r&&Z(i)&&(r=i(),i=null),r}};return K(e,"payload",t),!0}catch(n){}return!1}(a)),a.getCtx=function(e){return e?(e===Ue.ParentContextKey||e===Ue.ChildrenContextKey?a:a[Oe]||{})[e]:null},a.setCtx=function(e,t){e&&(e===Ue.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===Ue.ChildrenContextKey?a[e]=t:(a[Oe]=a[Oe]||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(Ue.ChildrenContextKey);if(ee(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}a.time=oe()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&Z(i)&&(a.payload=i())}}var ze="CoreUtils.doPerf";function We(e,t,n,r,i){if(e){var a=e;if(a=Z(a.getPerfMgr)?a.getPerfMgr():a){var o,s=void 0,e=a.getCtx(ze);try{if(s=a.create(t(),r,i))return e&&s.setCtx&&(s.setCtx(Be.ParentContextKey,e),e.getCtx&&e.setCtx&&((o=e.getCtx(Be.ChildrenContextKey))||(o=[],e.setCtx(Be.ChildrenContextKey,o)),o.push(s))),a.setCtx(ze,s),n(s)}catch(c){s&&s.setCtx&&s.setCtx("exception",c)}finally{s&&a.fire(s),a.setCtx(ze,e)}}}return n()}var je=function(i,t){var a=this,o=null,s=Z(i.processTelemetry),c=Z(i.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return i},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,r){r=r||t;var e=i?i.identifier:"TelemetryPluginChain";We(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&s){a._hasRun=!0;try{r.setNext(o),c&&i.setNextPlugin(o),o&&(o._hasRun=!1),i.processTelemetry(n,r)}catch(t){var e=o&&o._hasRun;o&&e||r.diagLog().throwInternal(S.CRITICAL,G.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+t),o&&!e&&o.processTelemetry(n,r)}}else o&&(a._hasRun=!0,o.processTelemetry(n,r))},function(){return{item:n}},!n.sync)}};function Ge(e,t){var n=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var a=e[i];a&&Z(a.processTelemetry)&&(a=new je(a,t),n.push(a),r&&r.setNext(a),r=a)}return 0<n.length?n[0]:null}var Ke=function cr(e,i,n,t){var r,a,o,s,c=this,l=null;null!==t&&(e&&Z(e.getPlugin)?l=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();!i&&a!==n||(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),Ge(r,t)}(e,c,t||e.getPlugin()):t?(r=c,o=e,s=!1,(a=t)&&e&&(o=[],re(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),l=Ge(o,r)):J(t)&&(l=Ge(e,c))),c.core=function(){return n},c.diagLog=function(){return(n||{}).logger||new Fe(i)},c.getCfg=function(){return i},c.getExtCfg=function(e,t){var n,r;return void 0===t&&(t={}),!i||(r=i.extensionConfig)&&e&&(n=r[e]),n||t},c.getConfig=function(e,t,n){var r;return void 0===n&&(n=!1),(e=c.getExtCfg(e,null))&&!H(e[t])?r=e[t]:i&&!H(i[t])&&(r=i[t]),H(r)?n:r},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new cr((e=void 0===e?null:e)||l,i,n,t)}},qe="getPlugin",Je=(He.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},He);function He(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&Z(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t=e=void 0===e?null:e;return t||(e=s||new Ke(null,{},a.core),t=c&&c[qe]?e.createNew(null,c[qe]):e.createNew(null,c)),t},a._baseTelInit=function(e,t,n,r){e&&ce(e,"extensionConfig",[],null,H),!r&&t&&(r=t.getProcessTelContext().getNext());var i=c;c&&c[qe]&&(i=c[qe]()),a.core=t,s=new Ke(r,e,t,i),o=!0}}var Xe="toGMTString",$e="toUTCString",Ze="cookie",Qe="expires",Ye="enabled",et="isCookieUseDisabled",tt="disableCookiesUsage",nt="_ckMgr",rt="",it=null,at=null,ot=null,st=Pe(),ct={},lt={};function ut(e){return!e||e.isEnabled()}function gt(e,r){var t,n,c=(ce(n=(t=e||lt).cookieCfg=t.cookieCfg||{},"domain",t.cookieDomain,X,H),ce(n,"path",t.cookiePath||"/",null,H),H(n[Ye])&&(e=void 0,J(t[et])||(e=!t[et]),J(t[tt])||(e=!t[tt]),n[Ye]=e),n),l=c.path||"/",u=c.domain,i=!1!==c[Ye],g={isEnabled:function(){var e=i&&ft(r),t=lt[nt];return e&&t&&g!==t?ut(t):e},setEnabled:function(e){i=!1!==e},set:function(e,t,n,r,i){var a,o,s;ut(g)&&(a={},-1!=(s=(o=ae(t||rt)).indexOf(";"))&&(o=ae(t.substring(0,s)),a=pt(t.substring(1+s))),ce(a,"domain",r||u,le,J),H(n)||(t=Me(),!J(a[Qe])||0<(s=oe()+1e3*n)&&((r=new Date).setTime(s),ce(a,Qe,dt(r,t?Xe:$e)||dt(r,t?Xe:$e)||rt,le)),t||ce(a,"max-age",rt+n,null,J)),(n=Ne())&&"https:"===n.protocol&&(ce(a,"secure",null,null,J),(at=null===at?!(ne(n=(be()||{}).userAgent)&&(Y(n,"CPU iPhone OS 12")||Y(n,"iPad; CPU OS 12")||Y(n,"Macintosh; Intel Mac OS X 10_14")&&Y(n,"Version/")&&Y(n,"Safari")||Y(n,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=e.length;if(e===t)return 1;if(40<=n){for(var r=n-1,i=39;0<=i;i--){if(e[r]!=t[i])return;r--}return 1}}}(n,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Y(n,"Chrome/5")||Y(n,"Chrome/6")||Y(n,"UnrealEngine")&&!Y(n,"Chrome")||Y(n,"UCBrowser/12")||Y(n,"UCBrowser/11"))):at)&&ce(a,"SameSite","None",null,J)),ce(a,"path",i||l,null,J),(c.setCookie||ht)(e,mt(o,a)))},get:function(e){var t=rt;return ut(g)?(c.getCookie||function(e){var t,n=rt;return st&&(t=st[Ze]||rt,ot!==t&&(ct=pt(t),ot=t),n=ae(ct[e]||rt)),n})(e):t},del:function(e,t){ut(g)&&g.purge(e,t)},purge:function(e,t){var n;ft(r)&&((n={}).path=t||"/",n[Qe]="Thu, 01 Jan 1970 00:00:01 GMT",Me()||(n["max-age"]="0"),(c.delCookie||ht)(e,mt(rt,n)))}};return g[nt]=g}function ft(e){if(null===it){it=!1;try{it=(st||{})[Ze]!==undefined}catch(t){e&&e.throwInternal(S.WARNING,G.CannotAccessCookie,"Cannot access document.cookie - "+se(t),{exception:Re(t)})}}return it}function pt(e){var n={};return e&&e.length&&re(ae(e).split(";"),function(e){var t;(e=ae(e||rt))&&(-1==(t=e.indexOf("="))?n[e]=null:n[ae(e.substring(0,t))]=ae(e.substring(1+t)))}),n}function dt(e,t){return Z(e[t])?e[t]():null}function mt(e,t){var n=e||rt;return Q(t,function(e,t){n+="; "+e+(H(t)?rt:"="+t)}),n}function ht(e,t){st&&(st[Ze]=e+"="+t)}var vt=4294967296,yt=4294967295,Tt=!1,wt=123456789,It=987654321;function Ct(e){var t,n=(n=xe(he)||xe(ve))&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&yt:Me()?(Tt||function(){try{var e=2147483647&oe();(t=(Math.random()*vt^e)+e)<0&&(t>>>=0),wt=123456789+t&yt,It=987654321-t&yt,Tt=!0}catch(n){}var t}(),t=((It=36969*(65535&It)+(It>>16)&yt)<<16)+(65535&(wt=18e3*(65535&wt)+(wt>>16)&yt))>>>0&yt|0,(t>>>=0)&yt):Math.floor(vt*Math.random()|0);return e||(n>>>=0),n}function xt(e,t,n){var r,i,a=t.length,o=(t&&150<(t=ae(t.toString())).length&&(r=t.substring(0,150),e.throwInternal(S.WARNING,G.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t);if(o.length!==a){for(var s=0,c=o;n[c]!==undefined;)s++,c=o.substring(0,147)+(i="00"+s).substr(i.length-3);o=c}return o}function St(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ae(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(S.WARNING,G.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function kt(e,t){return Et(e,t,2048,G.UrlTooLong)}function Pt(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),e.throwInternal(S.WARNING,G.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function bt(r,e){var i;return e&&(i={},Q(e,function(e,t){if($(t)&&Ae())try{t=Le().stringify(t)}catch(n){r.throwInternal(S.WARNING,G.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=St(r,t,8192),e=xt(r,e,i),i[e]=t}),e=i),e}function Nt(n,e){var r;return e&&(r={},Q(e,function(e,t){e=xt(n,e,r),r[e]=t}),e=r),e}function Et(e,t,n,r){var i;return t&&(t=ae(t)).length>n&&(i=t.substring(0,n),e.throwInternal(S.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function At(e){var t,n=null;return Z(Event)?n=new Event(e):(t=Pe())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function Lt(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function Mt(e){var t=""+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5),e=1===(e=""+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n;return(0<i?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t+"."+e}var Rt,Vt="not_specified";(Xt=Rt=Rt||{})[Xt.LocalStorage=0]="LocalStorage",Xt[Xt.SessionStorage=1]="SessionStorage",($t={})[$t.AI=0]="AI",$t[$t.AI_AND_W3C=1]="AI_AND_W3C",$t[$t.W3C=2]="W3C";var _t=undefined;function Dt(e){try{if(H(u()))return null;var t=new Date,n=xe(e===Rt.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}function Ft(){return Ot()?Dt(Rt.SessionStorage):null}function Ot(){return _t=_t===undefined?!!Dt(Rt.SessionStorage):_t}function Bt(e,t){var n=Ft();if(null!==n)try{return n.getItem(t)}catch(r){_t=!1,e.throwInternal(S.WARNING,G.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+se(r),{exception:Re(r)})}return null}function Ut(e,t,n){var r=Ft();if(null!==r)try{return r.setItem(t,n),1}catch(i){_t=!1,e.throwInternal(S.WARNING,G.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+se(i),{exception:Re(i)})}}function zt(e,t){var n=Ft();if(null!==n)try{return n.removeItem(t),1}catch(r){_t=!1,e.throwInternal(S.WARNING,G.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+se(r),{exception:Re(r)})}}var Wt=Pe()||{},jt=0,Gt=[null,null,null,null,null];function Kt(e,t){return 0===e||0===t||H(e)||H(t)?null:t-e}var qt,Jt=(d(Ht,qt=t=function(){this.ver=2,this.properties={},this.measurements={}}),Ht.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Ht.dataType="EventData",Ht);function Ht(e,t,n,r){var i=qt.call(this)||this;return i.aiDataContract={ver:1,name:1,properties:0,measurements:0},i.name=St(e,t)||Vt,i.properties=bt(e,n),i.measurements=Nt(e,r),i}var Xt=function(){},$t=function(){this.hasFullStack=!0,this.parsedStack=[]},Zt="<no_method>",Qt="error",Yt="stack",en="stackDetails",tn="errorSrc",nn="message",rn="description";function an(e,t){var n=e;return n&&!ne(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=Z(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function on(e,t){var n=e;return e&&((n=e[nn]||e[rn]||"")&&!ne(n)&&(n=an(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function sn(e){return e&&e.src&&ne(e.src)&&e.obj&&ee(e.obj)}function cn(e){var t=e||"",e=(t=ne(t)?t:ne(t[Yt])?t[Yt]:""+t).split("\n");return{src:t,obj:e}}function ln(e){var t,n=null;if(e)try{e[Yt]?n=cn(e[Yt]):e[Qt]&&e[Qt][Yt]?n=cn(e[Qt][Yt]):e.exception&&e.exception[Yt]?n=cn(e.exception[Yt]):sn(e)?n=e:sn(e[en])?n=e[en]:window.opera&&e[nn]?n=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message):ne(e)?n=cn(e):(t=e[nn]||e[rn]||"",ne(e[tn])&&(t&&(t+="\n"),t+=" from "+e[tn]),t&&(n=cn(t)))}catch(r){n=cn(r)}return n||{src:"",obj:null}}function un(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(r){}return t}function gn(e){if(e)try{if(!ne(e)){var t=un(e),n=an(e,!1);return n&&"{}"!==n||(e[Qt]&&(t=un(e=e[Qt])),n=an(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(r){}return""+(e||"")}var fn,pn=(d(dn,fn=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),dn.CreateAutoException=function(e,t,n,r,i,a,o,s){var c=un(i||a||e);return{message:on(e,c),url:t,lineNumber:n,columnNumber:r,error:gn(i||a||e),evt:gn(a||e),typeName:c,stackDetails:ln(o||i||a),errorSrc:s}},dn.CreateFromInterface=function(t,e,n,r){var i=e.exceptions&&ie(e.exceptions,function(e){return hn.CreateFromInterface(t,e)});return new dn(t,f({},e,{exceptions:i}),n,r)},dn.prototype.toInterface=function(){var e=this.exceptions,t=this.properties,n=this.measurements,r=this.severityLevel;this.ver;var i=this.problemGroup,a=this.id,o=this.isManual;return{ver:"4.0",exceptions:e instanceof Array&&ie(e,function(e){return e.toInterface()})||undefined,severityLevel:r,properties:t,measurements:n,problemGroup:i,id:a,isManual:o}},dn.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},dn.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",dn.dataType="ExceptionData",dn.formatError=gn,dn);function dn(e,t,n,r,i,a){var o,s=fn.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},$(o=t)&&"ver"in o&&"exceptions"in o&&"properties"in o?(s.exceptions=t.exceptions,s.properties=t.properties,s.measurements=t.measurements,t.severityLevel&&(s.severityLevel=t.severityLevel),t.id&&(s.id=t.id),t.problemGroup&&(s.problemGroup=t.problemGroup),s.ver=2,H(t.isManual)||(s.isManual=t.isManual)):(s.exceptions=[new hn(e,t,n=n||{})],s.properties=bt(e,n),s.measurements=Nt(e,r),i&&(s.severityLevel=i),a&&(s.id=a)),s}var mn,hn=(d(vn,mn=$t),vn.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&ie(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Yt],parsedStack:e||undefined}},vn.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&ie(t.parsedStack,function(e){return Tn.CreateFromInterface(e)})||t.parsedStack;return new vn(e,f({},t,{parsedStack:n}))},vn);function vn(e,t,n){var l,r,i,a,o=mn.call(this)||this;return o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},$(a=t)&&"hasFullStack"in a&&"typeName"in a?(o.typeName=t.typeName,o.message=t.message,o[Yt]=t[Yt],o.parsedStack=t.parsedStack,o.hasFullStack=t.hasFullStack):(a=(l=t)&&l.evt,te(l)||(l=l[Qt]||a||l),o.typeName=St(e,un(l))||Vt,o.message=Pt(e,on(t||l,o.typeName))||Vt,l=t[en]||ln(t),o.parsedStack=function(e){if((e=l.obj)&&0<e.length){var t=[],n=0,r=0;if(re(e,function(e){e=e.toString(),Tn.regex.test(e)&&(e=new Tn(e,n++),r+=e.sizeInBytes,t.push(e))}),32768<r)for(var i=0,a=t.length-1,o=0,s=i,c=a;i<a;){if(32768<(o+=t[i].sizeInBytes+t[a].sizeInBytes)){t.splice(s,c-s+1);break}s=i,c=a,i++,a--}}return t}(),o[Yt]=(t=e,i="",(e=l)&&(e.obj?re(e.obj,function(e){i+=e+"\n"}):i=e.src||""),!(l=i)||32768<(e=""+l).length&&(r=e.substring(0,32768),t.throwInternal(S.WARNING,G.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:l},!0)),r||l),o.hasFullStack=ee(o.parsedStack)&&0<o.parsedStack.length,n&&(n.typeName=n.typeName||o.typeName)),o}var yn,Tn=(d(wn,yn=Xt),wn.CreateFromInterface=function(e){return new wn(e,null)},wn.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},wn.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,wn.baseSize=58,wn);function wn(e,t){var n,r=yn.call(this)||this;return r.sizeInBytes=0,r.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof e?(n=e,r.level=t,r.method=Zt,r.assembly=ae(n),r.fileName="",r.line=0,(n=n.match(wn.regex))&&5<=n.length&&(r.method=ae(n[2])||r.method,r.fileName=ae(n[4]),r.line=parseInt(n[5])||0)):(r.level=e.level,r.method=e.method,r.assembly=e.assembly,r.fileName=e.fileName,r.line=e.line,r.sizeInBytes=0),r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=wn.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length,r}var In,$t=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}};(Xt=In={})[Xt.Measurement=0]="Measurement",Xt[Xt.Aggregation=1]="Aggregation";var Cn,xn=(d(Sn,Cn=function(){this.kind=In.Measurement}),Sn);function Sn(){var e=null!==Cn&&Cn.apply(this,arguments)||this;return e.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},e}var kn,Pn=(d(bn,kn=$t),bn.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",bn.dataType="MetricData",bn);function bn(e,t,n,r,i,a,o,s){var c=kn.call(this)||this;c.aiDataContract={ver:1,metrics:1,properties:0};var l=new xn;return l.count=0<r?r:undefined,l.max=isNaN(a)||null===a?undefined:a,l.min=isNaN(i)||null===i?undefined:i,l.name=St(e,t)||Vt,l.value=n,c.metrics=[l],c.properties=bt(e,o),c.measurements=Nt(e,s),c}var Nn,t=(d(En,Nn=t),En);function En(){var e=Nn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var An,Ln=(d(Mn,An=t),Mn.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Mn.dataType="PageviewData",Mn);function Mn(e,t,n,r,i,a,o){var s=An.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},s.id=o&&Et(e,o,128,G.IdTooLong).toString(),s.url=kt(e,n),s.name=St(e,t)||Vt,isNaN(r)||(s.duration=Mt(r)),s.properties=bt(e,i),s.measurements=Nt(e,a),s}var Rn,Vn=(d(_n,Rn=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),_n.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",_n.dataType="RemoteDependencyData",_n);function _n(e,t,n,r,i,a,o,s,c,l,u,g){void 0===c&&(c="Ajax");var f=Rn.call(this)||this;f.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},f.id=t,f.duration=Mt(i),f.success=a,f.resultCode=o+"",f.type=St(e,c);var p,d,m,h,v,y,T,w,I,C,o=(p=e,t=s,o=a=i=r,a=(c=n)&&0<c.length?(d=c,C=(I=Gt)[w=jt],Wt.createElement?I[w]||(C=I[w]=Wt.createElement("a")):C={host:(y=!0,T=null,!(v=m=d)||null!=(v=v.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<v.length&&ne(v[2])&&0<v[2].length&&(T=v[2]||"",y&&2<v.length&&(y=(v[1]||"").toLowerCase(),v=v[3]||"",T+=v="http"==y&&":80"===v||"https"==y&&":443"===v?"":v)),(m=T||"")&&null!=(h=m.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i))&&3<h.length&&ne(h[2])&&0<h[2].length?h[2]+(h[3]||""):m)},C.href=d,++w>=I.length&&(w=0),jt=w,C=(s=C).host,a||(null!=s.pathname?("/"!=((n=0===s.pathname.length?"/":s.pathname)[0]||"")&&(n="/"+n),o=s.pathname,St(p,t?t+" "+n:n)):St(p,c))):C=i,{target:C,name:a,data:o});return f.data=kt(e,r)||o.data,f.target=St(e,o.target),l&&(f.target=f.target+" | "+l),f.name=St(e,o.name),f.properties=bt(e,u),f.measurements=Nt(e,g),f}var Dn,Fn=(d(On,Dn=function(){this.ver=2,this.properties={},this.measurements={}}),On.envelopeType="Microsoft.ApplicationInsights.{0}.Message",On.dataType="MessageData",On);function On(e,t,n,r,i){var a=Dn.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},a.message=Pt(e,t=t||Vt),a.properties=bt(e,r),a.measurements=Nt(e,i),n&&(a.severityLevel=n),a}var Bn,t=(d(Un,Bn=t),Un);function Un(){var e=Bn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var zn,Wn,jn=(d(Gn,zn=t),Gn.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Gn.dataType="PageviewPerformanceData",Gn);function Gn(e,t,n,r,i,a,o){var s=zn.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},s.url=kt(e,n),s.name=St(e,t)||Vt,s.properties=bt(e,i),s.measurements=Nt(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}(t=Wn=Wn||{})[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical";var Kn=(qn.create=function(e,t,n,r,i,a){if(n=St(r,n)||Vt,H(e)||H(t)||H(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:function(e){if("[object Date]"===q(e)){var t=function(e){return 1===(e=""+e).length?"0"+e:e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:t,baseData:e};return H(i)||Q(i,function(e,t){o.data[e]=t}),o},qn);function qn(){}var Jn="AppInsightsPropertiesPlugin",Hn="ApplicationInsightsAnalytics",Xn=function lr(d,m,t,h){j(lr,this,function(e){var u,n=null,g=[],f=!1;function p(){t&&re(t.getTransmissionControls(),function(e){re(e,function(e){return e.flush(!0)})})}t&&(u=t.logger),e.trackPageView=function(r,i){var a=r.name;!H(a)&&"string"==typeof a||(e=Pe(),a=r.name=e&&e.title||"");var e,o=r.uri;if(!H(o)&&"string"==typeof o||(e=Ne(),o=r.uri=e&&e.href||""),!h.isPerformanceTimingSupported())return d.sendPageViewInternal(r,i),p(),void u.throwInternal(S.WARNING,G.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,l=h.getPerformanceTiming().navigationStart;0<l&&(s=Kt(l,+new Date),h.shouldCollectDuration(s)||(s=undefined)),H(i)||H(i.duration)||(t=i.duration),!m&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=s),d.sendPageViewInternal(r,i),p(),c=!0),i=i||{},t=function(){var e,t=!1;try{h.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},h.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(i.duration=e.durationMs,d.sendPageViewInternal(r,i)),f||(d.sendPageViewPerformanceInternal(e,i),f=!0)):(i.duration=s,d.sendPageViewInternal(r,i))):0<l&&6e4<Kt(l,+new Date)&&(t=!0,c||(i.duration=6e4,d.sendPageViewInternal(r,i)))}catch(n){u.throwInternal(S.CRITICAL,G.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+se(n),{exception:Re(n)})}return t},g.push(t),n=n||setInterval(function(){var e=g.slice(0),t=!1;g=[],re(e,function(e){e()?t=!0:g.push(e)}),0===g.length&&(clearInterval(n),n=null),t&&p()},100)}})},$n=(Zn.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Re(r))}},Zn.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return this._logger.warnToConsole("Call to restart failed: "+Re(r)),null}},Zn.prototype.startPageVisitTimer=function(e,t){try{var n,r;Ot()&&(null!=Bt(this._logger,this.prevPageVisitDataKeyName)&&function(){throw Error("Cannot call startPageVisit consecutively without first calling stopPageVisit")}(),n=new Qn(e,t),r=Le().stringify(n),Ut(this._logger,this.prevPageVisitDataKeyName,r))}catch(i){this._logger.warnToConsole("Call to start failed: "+Re(i))}},Zn.prototype.stopPageVisitTimer=function(){try{if(Ot()){var e=oe(),t=Bt(this._logger,this.prevPageVisitDataKeyName);if(t&&Ae()){var n=Le().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,zt(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(r){return this._logger.warnToConsole("Stop page visit timer failed: "+Re(r)),null}},Zn);function Zn(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Qn=function(e,t){this.pageVisitStartTime=oe(),this.pageName=e,this.pageUrl=t},Yn=(er.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0;(t||n)&&(n=t?(r=t.duration,i=0===t.startTime?t.connectEnd:Kt(t.startTime,t.connectEnd),a=Kt(t.requestStart,t.responseStart),o=Kt(t.responseStart,t.responseEnd),Kt(t.responseEnd,t.loadEventEnd)):(r=Kt(n.navigationStart,n.loadEventEnd),i=Kt(n.navigationStart,n.connectEnd),a=Kt(n.requestStart,n.responseStart),o=Kt(n.responseStart,n.responseEnd),Kt(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(S.WARNING,G.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:n}):this.shouldCollectDuration(r,i,a,o,n)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(n)?this._logger.throwInternal(S.WARNING,G.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:n}):(e.durationMs=r,e.perfTotal=e.duration=Mt(r),e.networkConnect=Mt(i),e.sentRequest=Mt(a),e.receivedResponse=Mt(o),e.domProcessing=Mt(n),e.isValid=!0):this._logger.throwInternal(S.WARNING,G.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:n}))},er.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ee().timing:null},er.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ee().getEntriesByType("navigation")[0]:null},er.prototype.isPerformanceNavigationTimingSupported=function(){var e=Ee();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},er.prototype.isPerformanceTimingSupported=function(){var e=Ee();return e&&e.timing},er.prototype.isPerformanceTimingDataReady=function(){var e=Ee();return(e=e?e.timing:0)&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},er.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(be()||{}).userAgent,i=!1;if(r)for(var a=0;a<n.length;a++)i=i||!!~r.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},er);function er(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var tr="duration",nr="event";function rr(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var ir,Je=(d(ar,ir=Je),ar.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Lt(e.disableExceptionTracking),e.autoTrackPageVisitTime=Lt(e.autoTrackPageVisitTime),e.overridePageViewDuration=Lt(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Lt(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Lt(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Lt(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Lt(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Lt(e.enableDebug),e.disableFlushOnBeforeUnload=Lt(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Lt(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},ar.Version="2.6.4",ar);function ar(){var v,y,T,w,I,C=ir.call(this)||this;return C.identifier=Hn,C.priority=180,C.autoRoutePVDelay=500,j(ar,C,function(m,h){var e=Ne(!0);w=e&&e.href||"",m.getCookieMgr=function(){return(e=m.core)?n=e.getCookieMgr():t&&(n=t.cookieCfg[nt]||gt(t)),n||(r=t,t=(e||{}).logger,(e=gt[nt]||lt[nt])||(e=gt[nt]=gt(r,t),lt[nt]=e),n=e),n;var e,t,n,r},m.processTelemetry=function(a,o){We(m.core,function(){return m.identifier+":processTelemetry"},function(){var e=!1,t=m._telemetryInitializers.length;o=m._getTelCtx(o);for(var n=0;n<t;++n){var r=m._telemetryInitializers[n];if(r)try{if(!1===r.call(null,a)){e=!0;break}}catch(i){o.diagLog().throwInternal(S.CRITICAL,G.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+se(i),{exception:Re(i)},!0)}}e||m.processNext(a,o)},function(){return{item:a}},!a.sync)},m.trackEvent=function(e,t){try{var n=Kn.create(e,Jt.dataType,Jt.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(S.WARNING,G.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+se(r),{exception:Re(r)})}},m.startTrackEvent=function(e){try{v.start(e)}catch(t){m.diagLog().throwInternal(S.CRITICAL,G.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+se(t),{exception:Re(t)})}},m.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(r){m.diagLog().throwInternal(S.CRITICAL,G.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+se(r),{exception:Re(r)})}},m.trackTrace=function(e,t){try{var n=Kn.create(e,Fn.dataType,Fn.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(S.WARNING,G.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+se(r),{exception:Re(r)})}},m.trackMetric=function(e,t){try{var n=Kn.create(e,Pn.dataType,Pn.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(S.CRITICAL,G.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+se(r),{exception:Re(r)})}},m.trackPageView=function(e,t){try{var n=e||{};m._pageViewManager.trackPageView(n,f({},n.properties,n.measurements,t)),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(r){m.diagLog().throwInternal(S.CRITICAL,G.TrackPVFailed,"trackPageView failed, page view will not be collected: "+se(r),{exception:Re(r)})}},m.sendPageViewInternal=function(e,t,n){var r=Pe();r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri),n=Kn.create(e,Ln.dataType,Ln.envelopeType,m.diagLog(),t,n),m.core.track(n)},m.sendPageViewPerformanceInternal=function(e,t,n){n=Kn.create(e,jn.dataType,jn.envelopeType,m.diagLog(),t,n),m.core.track(n)},m.trackPageViewPerformance=function(e,t){try{m._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),m.sendPageViewPerformanceInternal(e,t)}catch(n){m.diagLog().throwInternal(S.CRITICAL,G.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+se(n),{exception:Re(n)})}},m.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=Pe())&&t.title||""),y.start(e)}catch(n){m.diagLog().throwInternal(S.CRITICAL,G.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+se(n),{exception:Re(n)})}},m.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=Pe())&&i.title||""),"string"!=typeof t&&(t=(a=Ne())&&a.href||""),y.stop(e,t,n,r),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){m.diagLog().throwInternal(S.CRITICAL,G.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+se(o),{exception:Re(o)})}},m.sendExceptionInternal=function(e,t,n){var r=e.exception||e.error||Error(Vt),e=new pn(m.diagLog(),r,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),n=Kn.create(e,pn.dataType,pn.envelopeType,m.diagLog(),t,n);m.core.track(n)},m.trackException=function(e,t){try{m.sendExceptionInternal(e,t)}catch(n){m.diagLog().throwInternal(S.CRITICAL,G.TrackExceptionFailed,"trackException failed, exception will not be collected: "+se(n),{exception:Re(n)})}},m._onerror=function(e){var t,n,r,i=e&&e.error,a=e&&e.evt;try{a||(t=ke())&&(a=t[nr]);var o=e&&e.url||(Pe()||{}).URL,s=e.errorSrc||"window.onerror@"+o+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),c={errorSrc:s,url:o,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},l=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!ne(l)||"Script error."!==l&&"Script error"!==l?(e.errorSrc||(e.errorSrc=s),m.trackException({exception:e,severityLevel:Wn.Error},c)):(n=pn.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,e.lineNumber||0,e.columnNumber||0,i,a,null,s),r=c,r=Kn.create(n,pn.dataType,pn.envelopeType,m.diagLog(),r),m.core.track(r))}catch(u){i=i?i.name+", "+i.message:"null",m.diagLog().throwInternal(S.CRITICAL,G.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+se(u),{exception:Re(u),errorString:i})}},m.addTelemetryInitializer=function(e){m._telemetryInitializers.push(e)},m.initialize=function(e,t,n,r){if(!m.isInitialized()){if(H(t))throw Error("Error initializing");h.initialize(e,t,n,r),m.setInitialized(!1);var i=m._getTelCtx(),a=m.identifier;m.config=i.getExtCfg(a),(t=ar.getDefaultConfig(e))!==undefined&&Q(t,function(e,t){m.config[e]=i.getConfig(a,e,t),m.config[e]===undefined&&(m.config[e]=t)}),m.config.isStorageUseDisabled&&(_t=!1),r={instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return m.config.accountId||e.accountId},sessionRenewalMs:function(){return m.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return m.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return m.config.samplingPercentage||e.samplingPercentage},sdkExtension:function(){return m.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return m.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return m.config.appId||e.appId}},m._pageViewPerformanceManager=new Yn(m.core),m._pageViewManager=new Xn(C,m.config.overridePageViewDuration,m.core,m._pageViewPerformanceManager),m._pageVisitTimeManager=new $n(m.diagLog(),function(e,t,n){m.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},t={PageName:e,PageUrl:t})}),m._telemetryInitializers=m._telemetryInitializers||[],r.isBrowserLinkTrackingEnabled()||(d=["/browserLinkSignalR/","/__browserLink/"],m._telemetryInitializers.push(function(e){if(e.baseType===Vn.dataType){var t=e.baseData;if(t)for(var n=0;n<d.length;n++)if(t.target&&~t.target.indexOf(d[n]))return!1}return!0})),(v=new or(m.diagLog(),"trackEvent")).action=function(e,t,n,r){(r=r||{})[tr]=n.toString(),m.trackEvent({name:e,properties:r})},(y=new or(m.diagLog(),"trackPageView")).action=function(e,t,n,r,i){(r=H(r)?{}:r)[tr]=n.toString(),m.sendPageViewInternal({name:e,uri:t,properties:r,measurements:i},r)};var s,o,c,l,u,g=ke(),t=typeof history===x&&history?history:xe(pe),f=Ne(!0),p=C;!1===m.config.disableExceptionTracking&&!m.config.autoExceptionInstrumented&&g&&(s=g.onerror,g.onerror=function(e,t,n,r,i){var a=g[nr],o=s&&s(e,t,n,r,i);return!0!==o&&p._onerror(pn.CreateAutoException(e,t,n,r,i,a)),o},m.config.autoExceptionInstrumented=!0),!1===m.config.disableExceptionTracking&&!0===m.config.enableUnhandledPromiseRejectionTracking&&!m.config.autoUnhandledPromiseInstrumented&&g&&(o=g[r="onunhandledrejection"],g[r]=function(e){var t=g[nr],n=o&&o.call(g,e);return!0!==n&&p._onerror(pn.CreateAutoException(e.reason.toString(),f?f.href:"",0,0,e,t)),n},m.config.autoUnhandledPromiseInstrumented=!0),!0===m.config.enableAutoRouteTracking&&t&&Z(t.pushState)&&Z(t.replaceState)&&g&&"undefined"!=typeof Event&&(c=C,re(n,function(e){e.identifier===Jn&&(T=e)}),t.pushState=(u=t.pushState,function(){var e=u.apply(this,arguments);return rr(g,At(c.config.namePrefix+"pushState")),rr(g,At(c.config.namePrefix+"locationchange")),e}),t.replaceState=(l=t.replaceState,function(){var e=l.apply(this,arguments);return rr(g,At(c.config.namePrefix+"replaceState")),rr(g,At(c.config.namePrefix+"locationchange")),e}),g.addEventListener&&(g.addEventListener(c.config.namePrefix+"popstate",function(){rr(g,At(c.config.namePrefix+"locationchange"))}),g.addEventListener(c.config.namePrefix+"locationchange",function(){var e;T&&T.context&&T.context.telemetryTrace&&(T.context.telemetryTrace.traceID=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=Ct())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Ct())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}(),e="_unknown_",f&&f.pathname&&(e=f.pathname+(f.hash||"")),T.context.telemetryTrace.name=e),I&&(w=I),I=f&&f.href||"",setTimeout((function(e){c.trackPageView({refUri:e,properties:{duration:0}})}).bind(C,w),c.autoRoutePVDelay)}))),m.setInitialized(!0)}var d}}),C}var or=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(S.WARNING,G.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,r){var i=s[e];isNaN(i)?a.throwInternal(S.WARNING,G.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=Kt(i,+new Date),o.action(e,t,i,n,r)),delete s[e],s[e]=undefined}};e.ApplicationInsights=Je,function(e,t,n){var r=Object.defineProperty;if(r)try{return r(e,t,n)}catch(i){}typeof n.value!==undefined&&(e[t]=n.value)}(e,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
