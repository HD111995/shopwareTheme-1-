/*!
 * Microsoft Dynamic Proto Utility, 1.1.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var n=this,t=function(){"use strict";var e="constructor",v="prototype",d="function",h="_dynInstFuncs",_="_isDynProxy",g="_dynClass",m="_dynCls$",I="_dynInstChk",P=I,b="_dfOpts",r="_unknown_",t="__proto__",w="useBaseInst",O="setInstFuncs",f=Object,C=f.getPrototypeOf,F=0;function M(n,t){return n&&f[v].hasOwnProperty.call(n,t)}function k(n){return n&&(n===f[v]||n===Array[v])}function x(n){return k(n)||n===Function[v]}function D(n){if(n){if(C)return C(n);if(n=n[t]||n[v]||(n[e]?n[e][v]:null))return n}return null}function T(n,t){var r=[],e=f.getOwnPropertyNames;if(e)r=e(n);else for(var o in n)"string"==typeof o&&M(n,o)&&r.push(o);if(r&&0<r.length)for(var i=0;i<r.length;i++)t(r[i])}function j(n,t,r){return t!==e&&typeof n[t]===d&&(r||M(n,t))}function B(n){throw new TypeError("DynamicProto: "+n)}function $(n,t){for(var r=n.length-1;0<=r;r--)if(n[r]===t)return 1}function A(n,t){return M(n,v)?n.name||t||r:((n||{})[e]||{}).name||t||r}function E(n,e,t,r){M(n,v)||B("theClass is an invalid class definition.");var o=n[v];!function(n){if(C)for(var t=[],r=D(e);r&&!x(r)&&!$(t,r);){if(r===n)return 1;t.push(r),r=D(r)}}(o)&&B("["+A(n)+"] is not in class hierarchy of ["+A(e)+"]");var i=null;M(o,g)?i=o[g]:(i=m+A(n,"_")+"$"+F,F++,o[g]=i);var f=E[b],u=!!f[w];u&&r&&r[w]!==undefined&&(u=!!r[w]);var s,a,c,l,p,y,n=(a={},T(s=e,function(n){!a[n]&&j(s,n,!1)&&(a[n]=s[n])}),a);t(e,function(n,t,r,i){function e(n,t,r){var e,o=t[r];return o[_]&&i&&!1!==(e=n[h]||{})[P]&&(o=(e[t[g]]||{})[r]||o),function(){return o.apply(n,arguments)}}var o={};T(r,function(n){o[n]=e(t,r,n)});for(var f=D(n),u=[];f&&!x(f)&&!$(u,f);)T(f,function(n){!o[n]&&j(f,n,!C)&&(o[n]=e(t,f,n))}),u.push(f),f=D(f);return o}(o,e,n,u)),f=!!C&&!!f[O],c=o,i=i,l=e,p=n,r=!1!==(f=f&&r?!!r[O]:f),k(c)||(f=l[h]=l[h]||{},y=f[i]=f[i]||{},!1!==f[P]&&(f[P]=!!r),T(l,function(n){var r,e,o;j(l,n,!1)&&l[n]!==p[n]&&(y[n]=l[n],delete l[n],M(c,n)&&(!c[n]||c[n][_])||(c[n]=(r=c,e=n,(o=function(){var n,t;return(function(n,t,r,e){var o=null;if(n&&M(r,g)){var i=n[h]||{};if((o=(i[r[g]]||{})[t])||B("Missing ["+t+"] "+d),!o[I]&&!1!==i[P]){for(var f=!M(n,t),u=D(n),s=[];f&&u&&!x(u)&&!$(s,u);){var a=u[t];if(a){f=a===e;break}s.push(u),u=D(u)}try{f&&(n[t]=o),o[I]=1}catch(c){i[P]=!1}}}return o}(this,e,r,o)||(typeof(t=(t=r[n=e])===o?D(r)[n]:t)!==d&&B("["+n+"] is not a "+d),t)).apply(this,arguments)})[_]=1,o)))}))}return E[b]={setInstFuncs:!0,useBaseInst:!0},E};"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((n="undefined"!=typeof globalThis?globalThis:n||self).Microsoft=n.Microsoft||{},n.Microsoft["DynamicProto-JS"]=t());
