(()=>{"use strict";var e={403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var o,n,i,a,s,l,u=r(622),c=r(747),d=Object.prototype.toString;function f(e){return void 0!==e}function p(e){return"[object Number]"===d.call(e)}function g(e){return"[object String]"===d.call(e)}function h(e){return JSON.parse(c.readFileSync(e,"utf8"))}function m(e,t){return l&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,r){var o=r[0],n=t[o],i=e;return"string"==typeof n?i=n:"number"!=typeof n&&"boolean"!=typeof n&&null!=n||(i=String(n)),i}))}function v(e){return function(t,r){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];return p(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):m(e[t],o):g(r)?(console.warn("Message "+r+" didn't get externalized correctly."),m(r,o)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function b(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return m(t,r)}function y(e,t){return a[e]=t,t}function S(e){try{return function(e){var t=h(u.join(e,"nls.metadata.json")),r=Object.create(null);for(var o in t){var n=t[o];r[o]=n.messages}return r}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function k(e,t){var r;if(!0===s.languagePackSupport&&void 0!==s.cacheRoot&&void 0!==s.languagePackId&&void 0!==s.translationsConfigFile&&void 0!==s.translationsConfig)try{r=function(e,t){var r,o,n,i=u.join(s.cacheRoot,e.id+"-"+e.hash+".json"),a=!1,l=!1;try{return r=JSON.parse(c.readFileSync(i,{encoding:"utf8",flag:"r"})),o=i,n=new Date,c.utimes(o,n,n,(function(){})),r}catch(e){if("ENOENT"===e.code)l=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),c.unlink(i,(function(e){e&&console.error("Deleting corrupted bundle "+i+" failed.")})),a=!0}}if(!(r=function(e,t){var r=s.translationsConfig[e.id];if(r){var o=h(r).contents,n=h(u.join(t,"nls.metadata.json")),i=Object.create(null);for(var a in n){var l=n[a],c=o[e.outDir+"/"+a];if(c){for(var d=[],f=0;f<l.keys.length;f++){var p=l.keys[f],m=c[g(p)?p:p.key];void 0===m&&(m=l.messages[f]),d.push(m)}i[a]=d}else i[a]=l.messages}return i}}(e,t))||a)return r;if(l)try{c.writeFileSync(i,JSON.stringify(r),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return r;throw e}return r}(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!r){if(s.languagePackSupport)return S(t);var o=function(e){for(var t=s.language;t;){var r=u.join(e,"nls.bundle."+t+".json");if(c.existsSync(r))return r;var o=t.lastIndexOf("-");t=o>0?t.substring(0,o):void 0}if(void 0===t&&(r=u.join(e,"nls.bundle.json"),c.existsSync(r)))return r}(t);if(o)try{return h(o)}catch(e){console.log("Loading in the box message bundle failed.",e)}r=S(t)}return r}function w(e){if(!e)return b;var t=u.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),s.messageFormat===o.both||s.messageFormat===o.bundle){var r=function(e){for(var t,r=u.dirname(e);t=u.join(r,"nls.metadata.header.json"),!c.existsSync(t);){var o=u.dirname(r);if(o===r){t=void 0;break}r=o}return t}(e);if(r){var n=u.dirname(r),i=a[n];if(void 0===i)try{var d=JSON.parse(c.readFileSync(r,"utf8"));try{var p=k(d,n);i=y(n,p?{header:d,nlsBundle:p}:null)}catch(e){console.error("Failed to load nls bundle",e),i=y(n,null)}}catch(e){console.error("Failed to read header file",e),i=y(n,null)}if(i){var g=e.substr(n.length+1).replace(/\\/g,"/"),m=i.nlsBundle[g];return void 0===m?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):v(m)}}}if(s.messageFormat===o.both||s.messageFormat===o.file)try{var S=h(function(e){var t;if(s.cacheLanguageResolution&&t)t=t;else{if(l||!s.language)t=".nls.json";else for(var r=s.language;r;){var o=".nls."+r+".json";if(c.existsSync(e+o)){t=o;break}var n=r.lastIndexOf("-");n>0?r=r.substring(0,n):(t=".nls.json",r=null)}s.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(S)?v(S):f(S.messages)&&f(S.keys)?v(S.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(o=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(n=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&f(t.key)&&f(t.comment)}}(i||(i={})),function(){if(s={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:o.bundle},g(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var r=e.availableLanguages["*"];g(r)&&(t=r)}if(g(e.locale)&&(s.locale=e.locale.toLowerCase()),void 0===t?s.language=s.locale:"en"!==t&&(s.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(s.languagePackSupport=e._languagePackSupport),g(e._cacheRoot)&&(s.cacheRoot=e._cacheRoot),g(e._languagePackId)&&(s.languagePackId=e._languagePackId),g(e._translationsConfigFile)){s.translationsConfigFile=e._translationsConfigFile;try{s.translationsConfig=h(s.translationsConfigFile)}catch(t){if(e._corruptedFile){var n=u.dirname(e._corruptedFile);c.exists(n,(function(t){t&&c.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}l="pseudo"===s.locale,a=Object.create(null)}(),t.loadMessageBundle=w,t.config=function(e){return e&&(g(e.locale)&&(s.locale=e.locale.toLowerCase(),s.language=s.locale,a=Object.create(null)),void 0!==e.messageFormat&&(s.messageFormat=e.messageFormat),e.bundleFormat===n.standalone&&!0===s.languagePackSupport&&(s.languagePackSupport=!1)),l="pseudo"===s.locale,w}},61:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerAPICommands=t.ApiImpl=void 0;const o=r(549),n=r(462);t.ApiImpl=class{constructor(e){this._model=e}pickRemoteSource(e){return(0,n.pickRemoteSource)(this._model,e)}registerRemoteSourceProvider(e){return this._model.registerRemoteSourceProvider(e)}},t.registerAPICommands=function(e){const t=[];return t.push(o.commands.registerCommand("git-base.api.getRemoteSources",(t=>{if(e.model)return(0,n.pickRemoteSource)(e.model,t)}))),o.Disposable.from(...t)}},463:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GitBaseExtensionImpl=void 0;const o=r(549),n=r(61);t.GitBaseExtensionImpl=class{constructor(e){this.enabled=!1,this._onDidChangeEnablement=new o.EventEmitter,this.onDidChangeEnablement=this._onDidChangeEnablement.event,this._model=void 0,e&&(this.enabled=!0,this._model=e)}set model(e){this._model=e;const t=!!e;this.enabled!==t&&(this.enabled=t,this._onDidChangeEnablement.fire(this.enabled))}get model(){return this._model}getAPI(e){if(!this._model)throw new Error("Git model not found");if(1!==e)throw new Error(`No API version ${e} found.`);return new n.ApiImpl(this._model)}}},183:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.debounce=void 0;const o=r(56);function n(e){return(t,r,o)=>{let n=null,i=null;if("function"==typeof o.value?(n="value",i=o.value):"function"==typeof o.get&&(n="get",i=o.get),!i||!n)throw new Error("not supported");o[n]=e(i,r)}}t.debounce=function(e){return n(((t,r)=>{const o=`$debounce$${r}`;return function(...r){clearTimeout(this[o]),this[o]=setTimeout((()=>t.apply(this,r)),e)}}))},t.throttle=n((function(e,t){const r=`$throttle$current$${t}`,n=`$throttle$next$${t}`,i=function(...t){if(this[n])return this[n];if(this[r])return this[n]=(0,o.done)(this[r]).then((()=>(this[n]=void 0,i.apply(this,t)))),this[n];this[r]=e.apply(this,t);const a=()=>this[r]=void 0;return(0,o.done)(this[r]).then(a,a),this[r]};return i}))},194:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const o=r(549),n=r(56);t.Model=class{constructor(){this.remoteSourceProviders=new Set,this._onDidAddRemoteSourceProvider=new o.EventEmitter,this.onDidAddRemoteSourceProvider=this._onDidAddRemoteSourceProvider.event,this._onDidRemoveRemoteSourceProvider=new o.EventEmitter,this.onDidRemoveRemoteSourceProvider=this._onDidRemoveRemoteSourceProvider.event}registerRemoteSourceProvider(e){return this.remoteSourceProviders.add(e),this._onDidAddRemoteSourceProvider.fire(e),(0,n.toDisposable)((()=>{this.remoteSourceProviders.delete(e),this._onDidRemoveRemoteSourceProvider.fire(e)}))}getRemoteProviders(){return[...this.remoteSourceProviders.values()]}}},462:function(e,t,r){var o=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.pickRemoteSource=void 0;const n=r(549),i=r(403),a=r(183),s=i.loadMessageBundle(r(622).join(__dirname,"remoteSource.ts"));async function l(e){const t=await new Promise((t=>{e.onDidAccept((()=>t(e.selectedItems[0]))),e.onDidHide((()=>t(void 0))),e.show()}));return e.hide(),t}class u{constructor(e){this.provider=e,this.quickpick=n.window.createQuickPick(),this.quickpick.ignoreFocusOut=!0,e.supportsQuery?(this.quickpick.placeholder=s(0,null),this.quickpick.onDidChangeValue(this.onDidChangeValue,this)):this.quickpick.placeholder=s(1,null)}onDidChangeValue(){this.query()}async query(){this.quickpick.busy=!0;try{const e=await this.provider.getRemoteSources(this.quickpick.value)||[];0===e.length?this.quickpick.items=[{label:s(2,null),alwaysShow:!0}]:this.quickpick.items=e.map((e=>({label:e.name,description:e.description||("string"==typeof e.url?e.url:e.url[0]),remoteSource:e,alwaysShow:!0})))}catch(e){this.quickpick.items=[{label:s(3,null,e.message),alwaysShow:!0}],console.error(e)}finally{this.quickpick.busy=!1}}async pick(){return this.query(),(await l(this.quickpick))?.remoteSource}}async function c(e,t={}){const r=new u(e),o=await r.pick();let i;if(o&&("string"==typeof o.url?i=o.url:o.url.length>0&&(i=await n.window.showQuickPick(o.url,{ignoreFocusOut:!0,placeHolder:s(7,null)}))),!i||!t.branch)return i;if(!e.getBranches)return{url:i};const a=await e.getBranches(i);if(!a)return{url:i};const l=await n.window.showQuickPick(a,{placeHolder:s(8,null)});return l?{url:i,branch:l}:{url:i}}o([(0,a.debounce)(300)],u.prototype,"onDidChangeValue",null),o([a.throttle],u.prototype,"query",null),t.pickRemoteSource=async function(e,t={}){const r=n.window.createQuickPick();if(r.ignoreFocusOut=!0,t.providerName){const r=e.getRemoteProviders().filter((e=>e.name===t.providerName))[0];if(r)return await c(r,t)}const o=e.getRemoteProviders().map((e=>({label:(e.icon?`$(${e.icon}) `:"")+(t.providerLabel?t.providerLabel(e):e.name),alwaysShow:!0,provider:e})));r.placeholder=0===o.length?s(4,null):s(5,null);const i=e=>{r.items=e?[{label:t.urlLabel??s(6,null),description:e,alwaysShow:!0,url:e},...o]:o};r.onDidChangeValue(i),i();const a=await l(r);if(a){if(a.url)return a.url;if(a.provider)return await c(a.provider,t)}}},56:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Versions=t.done=t.toDisposable=void 0,t.toDisposable=function(e){return{dispose:e}},t.done=function(e){return e.then((()=>{}))},function(e){function t(e,t,r,o){return{major:"string"==typeof e?parseInt(e,10):e,minor:"string"==typeof t?parseInt(t,10):t,patch:null==r?0:"string"==typeof r?parseInt(r,10):r,pre:o}}function r(e){const[r,o]=e.split("-"),[n,i,a]=r.split(".");return t(n,i,a,o)}e.compare=function(e,t){return"string"==typeof e&&(e=r(e)),"string"==typeof t&&(t=r(t)),e.major>t.major?1:e.major<t.major?-1:e.minor>t.minor?1:e.minor<t.minor?-1:e.patch>t.patch?1:e.patch<t.patch?-1:void 0===e.pre&&void 0!==t.pre?1:void 0!==e.pre&&void 0===t.pre?-1:void 0!==e.pre&&void 0!==t.pre?e.pre.localeCompare(t.pre):0},e.from=t,e.fromString=r}(t.Versions||(t.Versions={}))},747:e=>{e.exports=require("fs")},622:e=>{e.exports=require("path")},549:e=>{e.exports=require("vscode")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const t=r(61),n=r(463),i=r(194);e.activate=function(e){const r=new n.GitBaseExtensionImpl(new i.Model);return e.subscriptions.push((0,t.registerAPICommands)(r)),r}})();var n=exports;for(var i in o)n[i]=o[i];o.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/899d46d82c4c95423fb7e10e68eba52050e30ba3/extensions/git-base/dist/extension.js.map